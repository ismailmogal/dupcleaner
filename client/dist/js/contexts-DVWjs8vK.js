var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,s=(e,s)=>{for(var n in s||(s={}))r.call(s,n)&&a(e,n,s[n]);if(t)for(var n of t(s))o.call(s,n)&&a(e,n,s[n]);return e};import{r as n,j as c}from"./components-core-Bxru5Fab.js";const i=n.createContext(),l=()=>{const e=n.useContext(i);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},m=({children:e})=>{const[t,r]=n.useState("light"),[o,a]=n.useState({fileBrowserViewMode:"grid",duplicateManagerViewMode:"list",multiFolderViewMode:"list",autoScan:!0,showFileSizes:!0,showFileDates:!0,compactMode:!1});n.useEffect(()=>{const e=localStorage.getItem("app_theme"),t=localStorage.getItem("app_preferences");if(e&&(r(e),document.documentElement.setAttribute("data-theme",e)),t)try{const e=JSON.parse(t);a(t=>s(s({},t),e))}catch(o){}},[]);const l=e=>{r(e),localStorage.setItem("app_theme",e),document.documentElement.setAttribute("data-theme",e)},m={theme:t,userPreferences:o,updateTheme:l,updatePreferences:e=>{const t=s(s({},o),e);a(t),localStorage.setItem("app_preferences",JSON.stringify(t))},toggleTheme:()=>{l("light"===t?"dark":"light")},isDark:"dark"===t};return c.jsx(i.Provider,{value:m,children:e})};export{m as T,l as u};
