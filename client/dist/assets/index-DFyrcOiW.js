const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/components-core-Bxru5Fab.js","js/duplicate-detection-DgkP5tI1.js","js/vendor-react-DEQ385Nk.js","js/contexts-DVWjs8vK.js","css/components-core-CF3G_HD2.css","js/components-advanced-DXBWHV3M.js","js/utils-hH7Twb46.js","css/components-advanced-Dj3zGijK.css"])))=>i.map(i=>d[i]);
var e=(e,i,s)=>new Promise((n,t)=>{var r=e=>{try{c(s.next(e))}catch(i){t(i)}},o=e=>{try{c(s.throw(e))}catch(i){t(i)}},c=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,o);c((s=s.apply(e,i)).next())});import{j as i,r as s,R as n}from"../js/components-core-Bxru5Fab.js";import{a as t,g as r}from"../js/vendor-react-DEQ385Nk.js";import{P as o,E as c,_ as l}from"../js/vendor-msal-CBhJbvlK.js";import{T as a,u as d}from"../js/contexts-DVWjs8vK.js";import{T as h,U as u,A as m,E as p}from"../js/components-ui-FqWysrst.js";import{a as f}from"../js/components-advanced-DXBWHV3M.js";import"../js/duplicate-detection-DgkP5tI1.js";import"../js/utils-hH7Twb46.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&i(e)}).observe(document,{childList:!0,subtree:!0})}function i(e){if(e.ep)return;e.ep=!0;const i=function(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?i.credentials="include":"anonymous"===e.crossOrigin?i.credentials="omit":i.credentials="same-origin",i}(e);fetch(e.href,i)}}();var x,j={};const g=r(function(){if(x)return j;x=1;var e=t();return j.createRoot=e.createRoot,j.hydrateRoot=e.hydrateRoot,j}());function v(){return i.jsxs("div",{className:"legal-page",children:[i.jsx("h1",{children:"Terms of Service"}),i.jsxs("div",{className:"legal-content",children:[i.jsxs("section",{children:[i.jsx("h2",{children:"1. Acceptance of Terms"}),i.jsx("p",{children:"By accessing and using this application, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this application."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"2. Use License"}),i.jsx("p",{children:"Permission is granted to temporarily use this application for personal, non-commercial purposes. This is the grant of a license, not a transfer of title, and under this license you may not:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Modify or copy the materials"}),i.jsx("li",{children:"Use the materials for any commercial purpose"}),i.jsx("li",{children:"Attempt to decompile or reverse engineer any software contained in the application"}),i.jsx("li",{children:"Remove any copyright or other proprietary notations from the materials"}),i.jsx("li",{children:'Transfer the materials to another person or "mirror" the materials on any other server'})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"3. Microsoft Account and OneDrive Integration"}),i.jsx("p",{children:"This application integrates with Microsoft OneDrive and requires a Microsoft account. By using this application, you agree to:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Comply with Microsoft's Terms of Service and Privacy Policy"}),i.jsx("li",{children:"Maintain the security of your Microsoft account credentials"}),i.jsx("li",{children:"Not use the application for any unauthorized or illegal purposes"}),i.jsx("li",{children:"Not attempt to access other users' data or accounts"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"4. Disclaimer"}),i.jsx("p",{children:"The materials on this application are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"5. Limitations"}),i.jsx("p",{children:"In no event shall we or our suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on this application."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"6. Revisions and Errata"}),i.jsx("p",{children:"The materials appearing on this application could include technical, typographical, or photographic errors. We do not warrant that any of the materials on the application are accurate, complete, or current. We may make changes to the materials contained on the application at any time without notice."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"7. Links"}),i.jsx("p",{children:"We have not reviewed all of the sites linked to this application and are not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by us of the site. Use of any such linked website is at the user's own risk."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"8. Modifications to Terms of Service"}),i.jsx("p",{children:"We may revise these terms of service at any time without notice. By using this application, you are agreeing to be bound by the then current version of these terms of service."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"9. Governing Law"}),i.jsx("p",{children:"These terms and conditions are governed by and construed in accordance with the laws of your jurisdiction and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"10. Contact Information"}),i.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us at [Your Contact Information]."})]})]})]})}function y(){return i.jsxs("div",{className:"legal-page",children:[i.jsx("h1",{children:"Privacy Policy"}),i.jsxs("div",{className:"legal-content",children:[i.jsxs("section",{children:[i.jsx("h2",{children:"1. Introduction"}),i.jsx("p",{children:"This Privacy Policy describes how we collect, use, and handle your personal information when you use our application. We are committed to protecting your privacy and ensuring you have a positive experience on our application."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"2. Information We Collect"}),i.jsx("h3",{children:"2.1 Microsoft Account Information"}),i.jsx("p",{children:"When you use our application with your Microsoft account, we collect:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Basic profile information (name, email address)"}),i.jsx("li",{children:"OneDrive file metadata (file names, sizes, and types)"}),i.jsx("li",{children:"Authentication tokens for accessing OneDrive"})]}),i.jsx("h3",{children:"2.2 Usage Information"}),i.jsx("p",{children:"We collect information about how you use our application, including:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Log data (IP address, browser type, pages visited)"}),i.jsx("li",{children:"Device information"}),i.jsx("li",{children:"Usage patterns and preferences"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"3. How We Use Your Information"}),i.jsx("p",{children:"We use the collected information for:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Providing and maintaining the application"}),i.jsx("li",{children:"Authenticating your Microsoft account"}),i.jsx("li",{children:"Accessing and displaying your OneDrive files"}),i.jsx("li",{children:"Improving our application"}),i.jsx("li",{children:"Communicating with you about updates or changes"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"4. Data Storage and Security"}),i.jsx("p",{children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the Internet or electronic storage is 100% secure."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"5. Microsoft's Privacy Policy"}),i.jsx("p",{children:"Our application integrates with Microsoft services. Your use of Microsoft services is also governed by Microsoft's Privacy Policy. We encourage you to review Microsoft's Privacy Policy to understand how they handle your data."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"6. Data Sharing and Disclosure"}),i.jsx("p",{children:"We do not sell, trade, or otherwise transfer your personal information to third parties. We may share your information with:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Microsoft (for authentication and OneDrive access)"}),i.jsx("li",{children:"Service providers who assist in operating our application"}),i.jsx("li",{children:"Law enforcement when required by law"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"7. Your Rights"}),i.jsx("p",{children:"You have the right to:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Access your personal information"}),i.jsx("li",{children:"Correct inaccurate information"}),i.jsx("li",{children:"Request deletion of your information"}),i.jsx("li",{children:"Opt-out of certain data collection"}),i.jsx("li",{children:"Export your data"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"8. Cookies and Tracking"}),i.jsx("p",{children:"We use cookies and similar tracking technologies to improve your experience. You can control cookies through your browser settings."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"9. Children's Privacy"}),i.jsx("p",{children:"Our application is not intended for children under 13. We do not knowingly collect personal information from children under 13."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"10. Changes to Privacy Policy"}),i.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."})]}),i.jsxs("section",{children:[i.jsx("h2",{children:"11. Contact Us"}),i.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at [Your Contact Information]."})]})]})]})}const w=({message:e="Loading...",size:s="medium"})=>i.jsxs("div",{className:`loading-container size-${s}`,children:[i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner-ring"}),i.jsx("div",{className:"spinner-ring"}),i.jsx("div",{className:"spinner-ring"})]}),e&&i.jsx("p",{className:"loading-message",children:e})]});function k({onPageChange:e}){const s=(new Date).getFullYear();return i.jsxs("footer",{className:"footer",children:[i.jsxs("div",{className:"footer-content",children:[i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"OneDrive Duplicate Finder"}),i.jsx("p",{children:"The world's first AI-powered team duplicate manager for OneDrive"})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Features"}),i.jsxs("ul",{children:[i.jsx("li",{children:"🤖 AI-Powered Detection"}),i.jsx("li",{children:"👥 Team Collaboration"}),i.jsx("li",{children:"🧠 Smart Organization"}),i.jsx("li",{children:"📁 Multi-Folder Compare"})]})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Support"}),i.jsxs("ul",{children:[i.jsx("li",{children:i.jsx("button",{className:"footer-link",onClick:()=>e("terms"),children:"Terms of Service"})}),i.jsx("li",{children:i.jsx("button",{className:"footer-link",onClick:()=>e("privacy"),children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx("a",{href:"mailto:support@onedriveduplicatefinder.com",className:"footer-link",children:"Contact Support"})})]})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Connect"}),i.jsxs("div",{className:"social-links",children:[i.jsx("a",{href:"https://github.com/your-repo",target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"GitHub",children:"📦"}),i.jsx("a",{href:"https://twitter.com/your-handle",target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"Twitter",children:"🐦"}),i.jsx("a",{href:"https://linkedin.com/company/your-company",target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"LinkedIn",children:"💼"})]})]})]}),i.jsx("div",{className:"footer-bottom",children:i.jsxs("div",{className:"footer-bottom-content",children:[i.jsxs("p",{children:["© ",s," OneDrive Duplicate Finder. All rights reserved."]}),i.jsxs("div",{className:"footer-bottom-links",children:[i.jsx("button",{className:"footer-link small",onClick:()=>e("terms"),children:"Terms"}),i.jsx("span",{className:"separator",children:"•"}),i.jsx("button",{className:"footer-link small",onClick:()=>e("privacy"),children:"Privacy"}),i.jsx("span",{className:"separator",children:"•"}),i.jsx("a",{href:"mailto:support@onedriveduplicatefinder.com",className:"footer-link small",children:"Support"})]})]})})]})}const N="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Background%20circle%20--%3e%3ccircle%20cx='24'%20cy='24'%20r='22'%20fill='url(%23gradient)'%20stroke='%230078d4'%20stroke-width='2'/%3e%3c!--%20First%20file%20--%3e%3crect%20x='12'%20y='14'%20width='12'%20height='16'%20rx='2'%20fill='%23ffffff'%20stroke='%230078d4'%20stroke-width='1.5'/%3e%3crect%20x='14'%20y='16'%20width='8'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='14'%20y='18'%20width='6'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='14'%20y='20'%20width='7'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='14'%20y='22'%20width='5'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='14'%20y='24'%20width='8'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='14'%20y='26'%20width='6'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3c!--%20Second%20file%20(duplicate)%20--%3e%3crect%20x='24'%20y='18'%20width='12'%20height='16'%20rx='2'%20fill='%23ffffff'%20stroke='%230078d4'%20stroke-width='1.5'/%3e%3crect%20x='26'%20y='20'%20width='8'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='26'%20y='22'%20width='6'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='26'%20y='24'%20width='7'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='26'%20y='26'%20width='5'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='26'%20y='28'%20width='8'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3crect%20x='26'%20y='30'%20width='6'%20height='1'%20rx='0.5'%20fill='%230078d4'/%3e%3c!--%20Connection%20line%20between%20files%20--%3e%3cpath%20d='M24%2022%20L24%2026'%20stroke='%230078d4'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c!--%20Magnifying%20glass%20for%20search%20--%3e%3ccircle%20cx='20'%20cy='20'%20r='3'%20fill='none'%20stroke='%230078d4'%20stroke-width='2'/%3e%3cpath%20d='M22.5%2022.5%20L25%2025'%20stroke='%230078d4'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c!--%20AI/ML%20dots%20--%3e%3ccircle%20cx='16'%20cy='34'%20r='1.5'%20fill='%230078d4'/%3e%3ccircle%20cx='19'%20cy='34'%20r='1.5'%20fill='%230078d4'/%3e%3ccircle%20cx='22'%20cy='34'%20r='1.5'%20fill='%230078d4'/%3e%3c!--%20Gradient%20definition%20--%3e%3cdefs%3e%3clinearGradient%20id='gradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23f0f8ff;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23e6f3ff;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",b=s.lazy(()=>l(()=>import("../js/components-core-Bxru5Fab.js").then(e=>e.D),__vite__mapDeps([0,1,2,3,4]))),A=s.lazy(()=>l(()=>import("../js/components-advanced-DXBWHV3M.js").then(e=>e.M),__vite__mapDeps([5,0,1,2,3,4,6,7]))),C=s.lazy(()=>l(()=>import("../js/components-core-Bxru5Fab.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4]))),S=s.lazy(()=>l(()=>import("../js/components-advanced-DXBWHV3M.js").then(e=>e.S),__vite__mapDeps([5,0,1,2,3,4,6,7]))),T=s.lazy(()=>l(()=>import("../js/components-advanced-DXBWHV3M.js").then(e=>e.C),__vite__mapDeps([5,0,1,2,3,4,6,7]))),F=s.lazy(()=>l(()=>import("../js/components-advanced-DXBWHV3M.js").then(e=>e.A),__vite__mapDeps([5,0,1,2,3,4,6,7]))),P=new o({auth:{clientId:"2f66fc90-a927-48bf-b117-8c79da6df8bc",authority:"https://login.microsoftonline.com/consumers",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{allowNativeBroker:!1,loggerOptions:{loggerCallback:(e,i,s)=>{},piiLoggingEnabled:!1,logLevel:3}}});function D(){const[n,t]=s.useState(!1),[r,o]=s.useState([]),[l,a]=s.useState(null),[p,x]=s.useState([]),[j,g]=s.useState(null),[D,E]=s.useState(!1),[I,_]=s.useState("home"),[O,R]=s.useState(new Set),M=s.useRef(null),[L,z]=s.useState(null),[$,W]=s.useState(!1),{userPreferences:B}=d(),U=s.useCallback((i=null)=>e(null,null,function*(){var e,s,n,t;try{const n=P.getActiveAccount();if(!n)throw new Error("No active account");const t=yield P.acquireTokenSilent({scopes:["Files.Read","Files.ReadWrite","User.Read","offline_access"],account:n}),r=i?`https://graph.microsoft.com/v1.0/me/drive/items/${i}/children`:"https://graph.microsoft.com/v1.0/me/drive/root/children",c=yield fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`,"Content-Type":"application/json",Accept:"application/json"}});if(!c.ok){const i=yield c.json().catch(()=>null),n=(null==(e=null==i?void 0:i.error)?void 0:e.message)||c.statusText,t=null==(s=null==i?void 0:i.error)?void 0:s.code;throw new Error(`Failed to fetch files: ${c.status} - ${n}${t?` (${t})`:""}`)}const l=yield c.json();o(l.value)}catch(r){if("InteractionRequiredAuthError"===r.name)try{const e=yield P.acquireTokenPopup({scopes:["Files.Read","Files.ReadWrite","User.Read","offline_access"]}),s=i?`https://graph.microsoft.com/v1.0/me/drive/items/${i}/children`:"https://graph.microsoft.com/v1.0/me/drive/root/children",r=yield fetch(s,{method:"GET",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok){const e=yield r.json().catch(()=>null),i=(null==(n=null==e?void 0:e.error)?void 0:n.message)||r.statusText,s=null==(t=null==e?void 0:e.error)?void 0:t.code;throw new Error(`Failed to fetch files: ${r.status} - ${i}${s?` (${s})`:""}`)}const c=yield r.json();o(c.value)}catch(c){g("Failed to fetch files: "+c.message)}else g("Failed to fetch files: "+r.message)}}),[]);s.useEffect(()=>{e(null,null,function*(){try{yield P.initialize(),E(!0);const e=P.getAllAccounts();e.length>0&&(P.setActiveAccount(e[0]),t(!0),U());const i=P.addEventCallback(e=>{if(e.eventType===c.LOGIN_SUCCESS){const e=P.getAllAccounts();e.length>0&&(P.setActiveAccount(e[0]),t(!0),U())}});return()=>{i&&P.removeEventCallback(i)}}catch(e){g("Failed to initialize authentication: "+e.message)}})},[U]);const V=i=>e(null,null,function*(){if(R(new Set),null===i)a(null),x([]),yield U();else{a(i);const e=[...p,i];x(e),yield U(i.id)}}),q=i=>e(null,null,function*(){if(R(new Set),-1===i)a(null),x([]),yield U();else if(i<p.length){const e=p[i],s=p.slice(0,i+1);a(e),x(s),yield U(e.id)}}),G=e=>{R(i=>{const s=new Set(i);return s.has(e.id)?s.delete(e.id):s.add(e.id),s})},Y=()=>e(null,null,function*(){try{if(!D)throw new Error("Authentication is not initialized yet");f.trackEvent("login_attempted");if(yield P.loginPopup({scopes:["Files.Read","Files.ReadWrite","User.Read","offline_access"]})){const e=P.getAllAccounts();if(!(e.length>0))throw new Error("No accounts found after login");P.setActiveAccount(e[0]),t(!0),f.trackEvent("login_successful",{accountType:"microsoft"}),yield U()}}catch(e){f.trackError(e,{action:"login"}),g("Failed to login: "+e.message)}}),H=(i,s)=>e(null,null,function*(){try{const n=P.getActiveAccount();if(!n)throw new Error("No active account");const t=yield P.acquireTokenSilent({scopes:["Files.Read","Files.ReadWrite","User.Read","offline_access"],account:n}),r=5,o=[],c=[];let l=0;s&&s(0,i.length,"Starting deletion...");for(let a=0;a<i.length;a+=r){const n=i.slice(a,a+r),d=n.map(i=>e(null,null,function*(){try{const e=yield fetch(`https://graph.microsoft.com/v1.0/me/drive/items/${i.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t.accessToken}`,"Content-Type":"application/json"}});if(e.ok)return{success:!0,file:i};{const s=`Failed to delete ${i.name}: ${e.status} ${e.statusText}`;return{success:!1,file:i,error:s}}}catch(e){const s=`Error deleting ${i.name}: ${e.message}`;return{success:!1,file:i,error:s}}}));if((yield Promise.allSettled(d)).forEach(e=>{"fulfilled"===e.status&&(e.value.success?o.push(e.value.file):c.push({file:e.value.file,error:e.value.error}))}),l+=n.length,s){const e=n[n.length-1];s(l,i.length,`Deleted ${(null==e?void 0:e.name)||"files"}...`)}}if(c.length>0){const e=`Failed to delete ${c.length} out of ${i.length} files:\n${c.map(e=>e.error).join("\n")}`;throw new Error(e)}return yield U(),o}catch(n){throw n}}),J=i=>e(null,null,function*(){var e;try{const s=P.getActiveAccount();if(!s)throw new Error("No active account");const n=yield P.acquireTokenSilent({scopes:["Files.Read","Files.ReadWrite","User.Read","offline_access"],account:s}),t="root"===i?"https://graph.microsoft.com/v1.0/me/drive/root/children":`https://graph.microsoft.com/v1.0/me/drive/items/${i}/children`,r=yield fetch(t,{method:"GET",headers:{Authorization:`Bearer ${n.accessToken}`,"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok){const i=yield r.json().catch(()=>null),s=(null==(e=null==i?void 0:i.error)?void 0:e.message)||r.statusText;throw new Error(`Failed to fetch folder files: ${r.status} - ${s}`)}return(yield r.json()).value}catch(s){throw s}}),K=e=>{const i=JSON.parse(localStorage.getItem("pendingComparisonFolders")||"[]");i.find(i=>i.id===e.id)||(i.push(e),localStorage.setItem("pendingComparisonFolders",JSON.stringify(i))),M.current&&M.current.addFolder?(M.current.addFolder(e),z(`Added "${e.name}" to comparison`),setTimeout(()=>z(null),3e3)):(_("multi-folder"),z(`Added "${e.name}" to comparison. Navigating to Multi-Compare...`),setTimeout(()=>z(null),3e3))},Q=e=>{_(e),"multi-folder"===e&&M.current&&M.current.checkPendingFolders&&setTimeout(()=>{M.current.checkPendingFolders()},200),f.trackPageView(e)};return D?i.jsxs("div",{className:"App",children:[i.jsxs("header",{className:"App-header",children:[i.jsxs("div",{className:"header-top",children:[i.jsxs("div",{className:"header-title",children:[i.jsx("img",{src:N,className:"App-logo",alt:"OneDrive Duplicate Finder Logo"}),i.jsx("h1",{children:"OneDrive Duplicate Finder"})]}),i.jsxs("div",{className:"header-controls",children:[i.jsx(h,{}),n&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"preferences-button",onClick:()=>W(!0),title:"User Preferences",children:"⚙️"}),i.jsx("button",{className:"logout-button",onClick:()=>{P.logoutPopup(),t(!1),o([])},title:"Logout",children:"Logout"})]})]})]}),i.jsxs("nav",{className:"main-nav",children:[i.jsx("button",{className:"nav-button "+("home"===I?"active":""),onClick:()=>Q("home"),children:"Home"}),n&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"nav-button "+("browser"===I?"active":""),onClick:()=>Q("browser"),children:"Browse"}),i.jsx("button",{className:"nav-button "+("duplicates"===I?"active":""),onClick:()=>Q("duplicates"),children:"Duplicates"}),i.jsx("button",{className:"nav-button "+("multi-folder"===I?"active":""),onClick:()=>Q("multi-folder"),children:"Multi-Compare"})]}),i.jsx("button",{className:"nav-button "+("ai-test-runner"===I?"active":""),onClick:()=>Q("ai-test-runner"),children:"AI Test Runner"})]}),i.jsxs("main",{className:"main-content",children:[(()=>{if(!n)return i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-content",children:[i.jsx("h2",{children:"Welcome to OneDrive Duplicate Finder"}),i.jsx("p",{children:"The world's first AI-powered team duplicate manager for OneDrive"}),i.jsxs("div",{className:"feature-highlights",children:[i.jsxs("div",{className:"feature-item",children:[i.jsx("span",{className:"feature-icon",children:"🤖"}),i.jsx("span",{children:"AI-Powered Detection"})]}),i.jsxs("div",{className:"feature-item",children:[i.jsx("span",{className:"feature-icon",children:"👥"}),i.jsx("span",{children:"Team Collaboration"})]}),i.jsxs("div",{className:"feature-item",children:[i.jsx("span",{className:"feature-icon",children:"🧠"}),i.jsx("span",{children:"Smart Organization"})]})]}),i.jsx("button",{className:"login-button",onClick:Y,children:"Sign in with Microsoft"})]})});switch(I){case"home":return i.jsxs("div",{className:"home-container",children:[i.jsxs("div",{className:"welcome-section",children:[i.jsx("h2",{children:"Welcome to Your OneDrive Manager"}),i.jsx("p",{children:"Choose a tool to get started:"})]}),i.jsxs("div",{className:"tools-grid",children:[i.jsxs("div",{className:"tool-card",onClick:()=>Q("duplicates"),children:[i.jsx("div",{className:"tool-icon",children:"🔍"}),i.jsx("h3",{children:"Find Duplicates"}),i.jsx("p",{children:"Basic duplicate detection in current folder"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("multi-folder"),children:[i.jsx("div",{className:"tool-icon",children:"📁"}),i.jsx("h3",{children:"Multi-Folder Compare"}),i.jsx("p",{children:"Find duplicates across multiple folders"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("ai-detection"),children:[i.jsx("div",{className:"tool-icon",children:"🤖"}),i.jsx("h3",{children:"AI Detection"}),i.jsx("p",{children:"Advanced AI-powered duplicate detection"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("smart-organizer"),children:[i.jsx("div",{className:"tool-icon",children:"🧠"}),i.jsx("h3",{children:"Smart Organizer"}),i.jsx("p",{children:"AI recommendations for file organization"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("team-collaboration"),children:[i.jsx("div",{className:"tool-icon",children:"👥"}),i.jsx("h3",{children:"Team Collaboration"}),i.jsx("p",{children:"Collaborate with your team on duplicates"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("browser"),children:[i.jsx("div",{className:"tool-icon",children:"📂"}),i.jsx("h3",{children:"File Browser"}),i.jsx("p",{children:"Browse and navigate your OneDrive files"})]}),i.jsxs("div",{className:"tool-card",onClick:()=>Q("ai-test-runner"),children:[i.jsx("div",{className:"tool-icon",children:"🧪"}),i.jsx("h3",{children:"AI Test Runner"}),i.jsx("p",{children:"Validate AI detection accuracy with real files"})]})]})]});case"duplicates":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(b,{files:r,onDeleteFiles:H,currentFolder:l,onFolderClick:V})});case"multi-folder":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(A,{ref:M,onFetchFolderFiles:J,onDeleteFiles:H})});case"ai-detection":return i.jsxs("div",{className:"ai-detection-container",children:[i.jsx("h2",{children:"🤖 AI-Powered Duplicate Detection"}),i.jsx("p",{children:"Advanced detection using machine learning algorithms"}),i.jsxs("div",{className:"ai-features",children:[i.jsxs("div",{className:"ai-feature",children:[i.jsx("h3",{children:"🖼️ Visual Similarity"}),i.jsx("p",{children:"Detect similar images even with different names or sizes"})]}),i.jsxs("div",{className:"ai-feature",children:[i.jsx("h3",{children:"📄 Content Analysis"}),i.jsx("p",{children:"Find similar documents based on content, not just metadata"})]}),i.jsxs("div",{className:"ai-feature",children:[i.jsx("h3",{children:"🎥 Video Comparison"}),i.jsx("p",{children:"Identify similar videos using frame analysis"})]})]}),i.jsx("button",{className:"ai-scan-btn",onClick:()=>Q("duplicates"),children:"Start AI Detection"})]});case"smart-organizer":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(S,{files:r,onOrganize:i=>e(null,null,function*(){f.trackEvent("smart_organization_executed",{planType:i.type,filesProcessed:i.filesToProcess.length})})})});case"team-collaboration":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(T,{files:r,onShare:(i,s)=>e(null,null,function*(){}),onCollaborate:i=>e(null,null,function*(){})})});case"browser":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(C,{files:r,currentFolder:l,folderPath:p,onFolderClick:V,onBreadcrumbClick:q,onFileSelect:G,selectedFiles:O,onAddToComparison:K,defaultViewMode:B.fileBrowserViewMode,showFileSizes:B.showFileSizes,showFileDates:B.showFileDates,compactMode:B.compactMode})});case"terms":return i.jsx(v,{});case"privacy":return i.jsx(y,{});case"ai-test-runner":return i.jsx(s.Suspense,{fallback:i.jsx(w,{}),children:i.jsx(F,{})});default:return i.jsxs("div",{className:"home-container",children:[i.jsx("h2",{children:"Welcome to OneDrive Duplicate Finder"}),i.jsx("p",{children:"Please select a tool from the navigation menu."})]})}})(),j&&i.jsx("p",{className:"error",children:j}),L&&i.jsx("div",{className:"notification",children:L})]})]}),i.jsx(k,{onPageChange:Q}),i.jsx(u,{isOpen:$,onClose:()=>W(!1)}),i.jsx(m,{})]}):i.jsx("div",{className:"App",children:i.jsxs("header",{className:"App-header",children:[i.jsxs("div",{className:"header-title",children:[i.jsx("img",{src:N,className:"App-logo",alt:"OneDrive Duplicate Finder Logo"}),i.jsx("h1",{children:"OneDrive Duplicate Finder"})]}),i.jsx("p",{children:"Initializing..."})]})})}function E(){return i.jsx(a,{children:i.jsx(D,{})})}g.createRoot(document.getElementById("root")).render(i.jsx(n.StrictMode,{children:i.jsx(p,{children:i.jsx(E,{})})})),f.trackEvent("app_initialized",{version:"1.0.0",environment:"production"});
